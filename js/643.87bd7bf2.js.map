{"version":3,"file":"js/643.87bd7bf2.js","mappings":"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","sources":["webpack://shoe-shop/./src/store/cart.js","webpack://shoe-shop/./src/store/address.js","webpack://shoe-shop/./src/store/order.js","webpack://shoe-shop/./src/store/index.js","webpack://shoe-shop/./src/views/Order/components/order-item.vue","webpack://shoe-shop/./src/views/Order/index.vue","webpack://shoe-shop/./src/views/Order/index.vue?7933"],"sourcesContent":["import { defineStore } from \"pinia\";\r\n\r\nconst useCartStore = defineStore(\"cart\", {\r\n  persist: {\r\n    key: \"shoe-shop-cart\",\r\n  },\r\n  state: () => ({\r\n    list: [],\r\n  }),\r\n  getters: {\r\n    effectiveList() {\r\n      return this.list.filter((v) => v.count > 0 && v.isEffective);\r\n    },\r\n    effectiveListCounts() {\r\n      return this.effectiveList.reduce((sum, item) => sum + item.count, 0);\r\n    },\r\n    effectiveListPrice() {\r\n      return this.effectiveList\r\n        .reduce((sum, item) => sum + item.count * Number(item.price), 0)\r\n        .toFixed(2);\r\n    },\r\n    isAllSelected() {\r\n      return (\r\n        this.effectiveList.length !== 0 &&\r\n        this.effectiveList.every((item) => item.selected)\r\n      );\r\n    },\r\n    selectedList() {\r\n      return this.effectiveList.filter((item) => item.selected);\r\n    },\r\n    selectedListCounts() {\r\n      return this.selectedList.reduce((sum, item) => sum + item.count, 0);\r\n    },\r\n    selectedListPrice() {\r\n      return this.selectedList\r\n        .reduce((sum, item) => sum + item.count * Number(item.price), 0)\r\n        .toFixed(2);\r\n    },\r\n  },\r\n  actions: {\r\n    async addCart(data) {\r\n      const { skuId, count } = data;\r\n      const goodsItem = this.list.find((item) => item.skuId === skuId);\r\n      if (!goodsItem) {\r\n        this.list.unshift(data);\r\n      } else {\r\n        goodsItem.count += count;\r\n      }\r\n    },\r\n    async getCartList() {\r\n      this.list.forEach(async (cartItem) => {});\r\n    },\r\n    async deleteCart(skuIds) {\r\n      this.list = this.list.filter((item) => !skuIds.includes(item.skuId));\r\n    },\r\n    async deleteCartBySelected() {\r\n      this.list = this.list.filter((item) => !item.selected);\r\n    },\r\n    async updateCart(skuId, data) {\r\n      const { selected, count } = data;\r\n      const cartItem = this.list.find((item) => item.skuId === skuId);\r\n      if (cartItem) {\r\n        if (count !== undefined) cartItem.count = count;\r\n        if (selected !== undefined) cartItem.selected = selected;\r\n      }\r\n    },\r\n    async updateCartAllSelected(data) {\r\n      const { selected } = data;\r\n      this.list.forEach((item) => {\r\n        item.selected = selected;\r\n      });\r\n    },\r\n    clearCart() {\r\n      this.list = [];\r\n    },\r\n  },\r\n});\r\n\r\nexport default useCartStore;\r\n","import { defineStore } from \"pinia\";\r\n\r\nconst useAddressStore = defineStore(\"address\", {\r\n  persist: {\r\n    key: \"shoe-shop-address\",\r\n  },\r\n  state: () => ({\r\n    receiver: null,\r\n    phone: null,\r\n    address: null,\r\n  }),\r\n  getters: {\r\n    getAddress() {\r\n      return {\r\n        receiver: this.receiver,\r\n        phone: this.phone,\r\n        address: this.address,\r\n      };\r\n    },\r\n  },\r\n  actions: {\r\n    async updateAddress(data) {\r\n      const { receiver, phone, address } = data;\r\n      this.receiver = receiver;\r\n      this.phone = phone;\r\n      this.address = address;\r\n    },\r\n  },\r\n});\r\n\r\nexport default useAddressStore;\r\n","import { defineStore } from \"pinia\";\r\n\r\nconst useOrderStore = defineStore(\"order\", {\r\n  persist: {\r\n    key: \"shoe-shop-order\",\r\n  },\r\n  state: () => ({\r\n    list: [],\r\n  }),\r\n  getters: {\r\n    getOrder() {\r\n      return this.list;\r\n    },\r\n  },\r\n  actions: {\r\n    async addOrder(data) {\r\n      this.list.unshift(data);\r\n    },\r\n  },\r\n});\r\n\r\nexport default useOrderStore;\r\n","import useCartStore from \"./cart\";\nimport useAddressStore from \"./address\";\nimport useOrderStore from \"./order\";\n\nconst useStore = () => {\n  return {\n    cart: useCartStore(),\n    address: useAddressStore(),\n    order: useOrderStore(),\n  };\n};\n\nexport default useStore;\n","import script from \"./order-item.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./order-item.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./order-item.vue?vue&type=style&index=0&id=9cf6b6c2&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\FrontEnd\\\\Vue\\\\shoe-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9cf6b6c2\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport OrderItem from \"./components/order-item.vue\";\r\nimport useStore from \"@/store\";\r\n\r\nconst { order } = useStore();\r\n\r\nconst orderListInfo = ref(null);\r\n\r\nonMounted(async () => {\r\n  orderListInfo.value = order.getOrder;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div class=\"order\">\r\n    <div v-if=\"orderListInfo?.length !== 0\" class=\"order-list container\">\r\n      <OrderItem v-for=\"item in orderListInfo\" :key=\"item.orderId\" :order=\"item\" />\r\n    </div>\r\n    <div v-else class=\"empty-order container\">\r\n      <p>目前沒有訂單</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n.order {\r\n  padding: 30px 0;\r\n}\r\n.order-list {\r\n  background-color: #fff;\r\n  padding: 20px;\r\n}\r\n\r\n.empty-order {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #fff;\r\n  padding: 20px 0;\r\n\r\n  p {\r\n    color: gray;\r\n    font-size: 30px;\r\n    font-weight: 600;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7a9e37e5&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\FrontEnd\\\\Vue\\\\shoe-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a9e37e5\"]])\n\nexport default __exports__"],"names":["useCartStore","defineStore","persist","key","state","list","getters","effectiveList","this","filter","v","count","isEffective","effectiveListCounts","reduce","sum","item","effectiveListPrice","Number","price","toFixed","isAllSelected","length","every","selected","selectedList","selectedListCounts","selectedListPrice","actions","async","data","skuId","goodsItem","find","unshift","forEach","skuIds","includes","cartItem","undefined","clearCart","useAddressStore","receiver","phone","address","getAddress","useOrderStore","getOrder","useStore","cart","order","__exports__","orderListInfo","ref","onMounted","value"],"sourceRoot":""}