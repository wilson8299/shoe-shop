"use strict";(self["webpackChunkshoe_shop"]=self["webpackChunkshoe_shop"]||[]).push([[663],{8529:function(e,n,a){a.d(n,{Z:function(){return o}});a(541);var m=a(3766);const s=(0,m.Q_)("cart",{persist:{key:"shoe-shop-cart"},state:()=>({list:[]}),getters:{effectiveList(){return this.list.filter((e=>e.count>0&&e.isEffective))},effectiveListCounts(){return this.effectiveList.reduce(((e,n)=>e+n.count),0)},effectiveListPrice(){return this.effectiveList.reduce(((e,n)=>e+n.count*Number(n.price)),0).toFixed(2)},isAllSelected(){return 0!==this.effectiveList.length&&this.effectiveList.every((e=>e.selected))},selectedList(){return this.effectiveList.filter((e=>e.selected))},selectedListCounts(){return this.selectedList.reduce(((e,n)=>e+n.count),0)},selectedListPrice(){return this.selectedList.reduce(((e,n)=>e+n.count*Number(n.price)),0).toFixed(2)}},actions:{async addCart(e){const{skuId:n,count:a}=e,m=this.list.find((e=>e.skuId===n));m?m.count+=a:this.list.unshift(e)},async getCartList(){this.list.forEach((async e=>{}))},async deleteCart(e){this.list=this.list.filter((n=>!e.includes(n.skuId)))},async deleteCartBySelected(){this.list=this.list.filter((e=>!e.selected))},async updateCart(e,n){const{selected:a,count:m}=n,s=this.list.find((n=>n.skuId===e));s&&(void 0!==m&&(s.count=m),void 0!==a&&(s.selected=a))},async updateCartAllSelected(e){const{selected:n}=e;this.list.forEach((e=>{e.selected=n}))},clearCart(){this.list=[]}}});var t=s;const i=(0,m.Q_)("address",{persist:{key:"shoe-shop-address"},state:()=>({receiver:null,phone:null,address:null}),getters:{getAddress(){return{receiver:this.receiver,phone:this.phone,address:this.address}}},actions:{async updateAddress(e){const{receiver:n,phone:a,address:m}=e;this.receiver=n,this.phone=a,this.address=m}}});var r=i;const d=(0,m.Q_)("order",{persist:{key:"shoe-shop-order"},state:()=>({list:[]}),getters:{getOrder(){return this.list}},actions:{async addOrder(e){this.list.unshift(e)}}});var c=d;const l=()=>({cart:t(),address:r(),order:c()});var o=l},3663:function(e,n,a){a.r(n),a.d(n,{default:function(){return Q}});a(7658);var m=a(3396),s=a(4870),t=a(7139),i=a(8529),r=a(5943),d=a(3766),c=a(2483);const l=e=>((0,m.dD)("data-v-9313a0c6"),e=e(),(0,m.Cn)(),e),o={class:"ss-cart-page"},u={class:"container"},p={class:"cart"},v={width:"120"},h=l((()=>(0,m._)("th",{width:"400"},"商品資訊",-1))),_=l((()=>(0,m._)("th",{width:"220"},"單價",-1))),f=l((()=>(0,m._)("th",{width:"220"},"尺寸",-1))),b=l((()=>(0,m._)("th",{width:"180"},"數量",-1))),y=l((()=>(0,m._)("th",{width:"180"},"價格",-1))),k=l((()=>(0,m._)("th",{width:"140"},"操作",-1))),g={class:"goods"},C=["src","alt"],w={class:"name ellipsis"},S={class:"tc"},z={class:"tc"},L={class:"tc"},U={class:"tc"},A={class:"f16 red"},I={class:"tc"},x=["onClick"],N={key:0},D={colspan:"6"},R={class:"cart-none",style:{"text-align":"center"}},F=l((()=>(0,m._)("p",null,"購物車內暫時沒有商品",-1))),J={class:"btn",style:{margin:"20px"}},W={class:"action"},$=l((()=>(0,m._)("div",{class:"batch"},null,-1))),O={class:"total"},P={class:"red"};var X={__name:"index",setup(e){const{cart:n}=(0,i.Z)(),{effectiveListCounts:a,selectedListCounts:l,selectedListPrice:X}=(0,d.Jk)(n),E=(e,a)=>{n.updateCart(e,{selected:a})},H=(e,a)=>{n.updateCart(e,{count:a})},Q=e=>{const n=r.a.filter((n=>n.id===e))[0].inventory;return Number(n)},V=(0,m.Fl)({get(){return n.isAllSelected},set(e){n.updateCartAllSelected({selected:e,ids:[]})}}),M=(0,c.tv)(),Z=()=>{0!==n.selectedListCounts&&M.push("/checkout")};return(e,i)=>{const r=(0,m.up)("SsCheckbox"),d=(0,m.up)("RouterLink"),c=(0,m.up)("SsCount"),M=(0,m.up)("SsButton");return(0,m.wg)(),(0,m.iD)("div",o,[(0,m._)("div",u,[(0,m._)("div",p,[(0,m._)("table",null,[(0,m._)("thead",null,[(0,m._)("tr",null,[(0,m._)("th",v,[(0,m.Wm)(r,{modelValue:(0,s.SU)(V),"onUpdate:modelValue":i[0]||(i[0]=e=>(0,s.dq)(V)?V.value=e:null)},{default:(0,m.w5)((()=>[(0,m.Uk)("全選")])),_:1},8,["modelValue"])]),h,_,f,b,y,k])]),(0,m._)("tbody",null,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)((0,s.SU)(n).effectiveList,(e=>((0,m.wg)(),(0,m.iD)("tr",{key:e.skuId},[(0,m._)("td",null,[(0,m.Wm)(r,{"model-value":e.selected,onChange:n=>E(e.skuId,n)},null,8,["model-value","onChange"])]),(0,m._)("td",null,[(0,m._)("div",g,[(0,m.Wm)(d,{to:`/goods/${e.id}`},{default:(0,m.w5)((()=>[(0,m._)("img",{src:`https://vtjoho.b-cdn.net/shoeshop/${e.id}_1.png`,alt:e.name},null,8,C),(0,m._)("div",null,[(0,m._)("p",w,(0,t.zw)(e.name),1)])])),_:2},1032,["to"])])]),(0,m._)("td",S,[(0,m._)("p",null,"$"+(0,t.zw)(e.price),1)]),(0,m._)("td",z,[(0,m._)("p",null,(0,t.zw)(e.size),1)]),(0,m._)("td",L,[(0,m.Wm)(c,{"model-value":e.count,onChange:n=>H(e.skuId,n),min:1,max:Q(e.id)},null,8,["model-value","onChange","max"])]),(0,m._)("td",U,[(0,m._)("p",A," $"+(0,t.zw)((e.count*Number(e.price)).toFixed(2)),1)]),(0,m._)("td",I,[(0,m._)("p",null,[(0,m._)("a",{onClick:a=>(0,s.SU)(n).deleteCart([e.skuId]),class:"green",href:"javascript:;"}," 刪除 ",8,x)])])])))),128)),0===(0,s.SU)(n).effectiveList.length?((0,m.wg)(),(0,m.iD)("tr",N,[(0,m._)("td",D,[(0,m._)("div",R,[F,(0,m._)("div",J,[(0,m.Wm)(M,{onClick:i[1]||(i[1]=n=>e.$router.push("/")),type:"primary"},{default:(0,m.w5)((()=>[(0,m.Uk)(" 繼續逛逛 ")])),_:1})])])])])):(0,m.kq)("",!0)])])]),(0,m._)("div",W,[$,(0,m._)("div",O,[(0,m.Uk)(" 共 "+(0,t.zw)((0,s.SU)(a))+" 件有效商品， 以選擇 "+(0,t.zw)((0,s.SU)(l))+" 件， 商品總額： ",1),(0,m._)("span",P,"$"+(0,t.zw)((0,s.SU)(X)),1),(0,m.Wm)(M,{onClick:Z,type:"primary"},{default:(0,m.w5)((()=>[(0,m.Uk)("下單")])),_:1})])])])])}}},E=a(89);const H=(0,E.Z)(X,[["__scopeId","data-v-9313a0c6"]]);var Q=H},5943:function(e){e.exports=JSON.parse('{"a":[{"id":"a01","name":"DAILY 3.0 SHOES","price":"62","brand":"adidas","inventory":"10","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a02","name":"Questar Flow NXT Running Shoes","price":"75","brand":"adidas","inventory":"8","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a03","name":"Ultraboost 22 Running Shoes","price":"143","brand":"adidas","inventory":"6","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a04","name":"Stan Smith Shoes","price":"80","brand":"adidas","inventory":"2","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a05","name":"Nite Jogger Shoes","price":"170","brand":"adidas","inventory":"12","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a06","name":"Superstar Shoes","price":"100","brand":"adidas","inventory":"30","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a07","name":"Ultra 4DFWD Running Shoes","price":"220","brand":"adidas","inventory":"20","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a08","name":"NMD_R1 Shoes","price":"128","brand":"adidas","inventory":"15","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a09","name":"NMD_R1 Primeblue Shoes","price":"160","brand":"adidas","inventory":"7","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"a10","name":"Kaptir 2.0 Shoes","price":"72","brand":"adidas","inventory":"6","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"n01","name":"Nike Pegasus 39","price":"103","brand":"nike","inventory":"10","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"n02","name":"Nike Air Max 270","price":"160","brand":"nike","inventory":"10","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"n03","name":"Air Jordan 1 Retro High OG","price":"180","brand":"nike","inventory":"20","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"n04","name":"Air Jordan 7 Retro","price":"210","brand":"nike","inventory":"16","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"n05","name":"Air Jordan XXXVII","price":"185","brand":"nike","inventory":"50","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"n06","name":"Air Jordan 2 Retro","price":"200","brand":"nike","inventory":"3","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"nb01","name":"990v6","price":"200","brand":"newbalance","inventory":"10","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"nb02","name":"574 Core","price":"85","brand":"newbalance","inventory":"10","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"nb03","name":"2002R","price":"140","brand":"newbalance","inventory":"20","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"nb04","name":"Fresh Foam X Hierro v7","price":"200","brand":"newbalance","inventory":"20","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]},{"id":"nb05","name":"993 Core","price":"200","brand":"newbalance","inventory":"12","specs":[{"name":"size","values":[{"name":"7"},{"name":"7.5"},{"name":"8"},{"name":"8.5"},{"name":"9"},{"name":"9.5"},{"name":"10"},{"name":"10.5"},{"name":"11"},{"name":"11.5"},{"name":"12"},{"name":"12.5"},{"name":"13"},{"name":"14"}]}]}]}')}}]);
//# sourceMappingURL=663.b0d61e49.js.map